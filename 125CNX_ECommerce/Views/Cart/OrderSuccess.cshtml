@model _125CNX_ECommerce.Models.DonHangModel
@{
    ViewData["Title"] = "Đặt hàng thành công";
}

<!-- Success Section -->
<section class="order-success-section py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Success Card -->
                <div class="card border-0 shadow-lg" style="border-radius: 20px;">
                    <div class="card-body p-5 text-center">
                        <!-- Success Icon -->
                        <div class="success-icon mb-4">
                            <div class="icon-circle mx-auto" style="width: 120px; height: 120px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="bi bi-check-circle-fill text-white" style="font-size: 4rem;"></i>
                            </div>
                        </div>

                        <!-- Success Message -->
                        <h2 class="fw-bold mb-3">Đặt hàng thành công!</h2>
                        <p class="text-muted mb-4">
                            Cảm ơn bạn đã đặt hàng. Đơn hàng của bạn đang chờ xác nhận từ admin.
                        </p>

                        <!-- Order Info -->
                        <div class="order-info bg-light rounded p-4 mb-4">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="info-item">
                                        <small class="text-muted d-block mb-1">Mã đơn hàng</small>
                                        <strong class="fs-5 text-primary">#DH@Model.MaDH.ToString("D6")</strong>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="info-item">
                                        <small class="text-muted d-block mb-1">Ngày đặt</small>
                                        <strong>@Model.NgayDat.ToString("dd/MM/yyyy HH:mm")</strong>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="info-item">
                                        <small class="text-muted d-block mb-1">Tổng tiền</small>
                                        <strong class="text-danger fs-5">@Model.TongTien.ToString("N0")đ</strong>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="info-item">
                                        <small class="text-muted d-block mb-1">Trạng thái</small>
                                        <span class="badge bg-warning text-dark px-3 py-2">
                                            <i class="bi bi-clock me-1"></i>@Model.TrangThai
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Status Timeline -->
                        <div class="status-timeline mb-4">
                            <h6 class="fw-bold mb-3">Quy trình xử lý đơn hàng</h6>
                            <div class="timeline-steps">
                                <div class="row g-2">
                                    <div class="col-3">
                                        <div class="step active">
                                            <div class="step-icon">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            <small class="d-block mt-2">Đặt hàng</small>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="step pending">
                                            <div class="step-icon">
                                                <i class="bi bi-clock"></i>
                                            </div>
                                            <small class="d-block mt-2">Chờ duyệt</small>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="step">
                                            <div class="step-icon">
                                                <i class="bi bi-truck"></i>
                                            </div>
                                            <small class="d-block mt-2">Giao hàng</small>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="step">
                                            <div class="step-icon">
                                                <i class="bi bi-box-seam"></i>
                                            </div>
                                            <small class="d-block mt-2">Hoàn thành</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Notice -->
                        <div class="alert alert-info border-0 mb-4">
                            <i class="bi bi-info-circle me-2"></i>
                            <strong>Lưu ý:</strong> Admin sẽ xác nhận đơn hàng của bạn trong vòng 24 giờ. 
                            Bạn sẽ nhận được thông báo qua email khi đơn hàng được xác nhận.
                        </div>

                        <!-- Actions -->
                        <div class="d-flex gap-3 justify-content-center flex-wrap">
                            <a href="/Product" class="btn btn-primary btn-lg px-4">
                                <i class="bi bi-bag me-2"></i>Tiếp tục mua sắm
                            </a>
                            <a href="/" class="btn btn-outline-secondary btn-lg px-4">
                                <i class="bi bi-house me-2"></i>Về trang chủ
                            </a>
                        </div>

                        <!-- Contact Support -->
                        <div class="mt-4 pt-4 border-top">
                            <p class="text-muted mb-2">Cần hỗ trợ?</p>
                            <div class="d-flex gap-3 justify-content-center">
                                <a href="tel:1900xxxx" class="text-decoration-none">
                                    <i class="bi bi-telephone me-1"></i>1900 xxxx
                                </a>
                                <a href="mailto:support@shoeshop.vn" class="text-decoration-none">
                                    <i class="bi bi-envelope me-1"></i>support@shoeshop.vn
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .success-icon {
        animation: scaleIn 0.5s ease-out;
    }

    @@keyframes scaleIn {
        from {
            transform: scale(0);
            opacity: 0;
        }
        to {
            transform: scale(1);
            opacity: 1;
        }
    }

    .icon-circle {
        animation: pulse 2s infinite;
    }

    @@keyframes pulse {
        0%, 100% {
            box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);
        }
        50% {
            box-shadow: 0 0 0 20px rgba(102, 126, 234, 0);
        }
    }

    .order-info {
        animation: slideUp 0.5s ease-out 0.2s both;
    }

    @@keyframes slideUp {
        from {
            transform: translateY(20px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    .timeline-steps {
        position: relative;
    }

    .timeline-steps::before {
        content: '';
        position: absolute;
        top: 20px;
        left: 12.5%;
        right: 12.5%;
        height: 2px;
        background: #e0e0e0;
        z-index: 0;
    }

    .step {
        position: relative;
        z-index: 1;
    }

    .step-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #e0e0e0;
        color: #999;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        font-size: 1.2rem;
        transition: all 0.3s ease;
    }

    .step.active .step-icon {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .step.pending .step-icon {
        background: #ffc107;
        color: white;
        animation: blink 1.5s infinite;
    }

    @@keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    .step small {
        font-size: 0.75rem;
        color: #666;
    }

    .step.active small {
        color: #667eea;
        font-weight: 600;
    }

    .step.pending small {
        color: #ffc107;
        font-weight: 600;
    }
</style>
